## 闭包

他的表现形式是方法里面返回方法

:::tip 闭包涉及到的知识点

1. 函数的执行上下文:当全局代表和函数被执行前期，首先进入到预解析期创建 GO,VO 等对象。
2. 变量对象：VO(visabled Object)就是 AO 和 GO 的统称，在全局作用域 VO === GO,在函数内部 VO === AO。
3. 活动对象：AO(activity Object)
4. 作用域
5. 作用域链
   :::

### 闭包三要素

1. 函数里面定义了内部函数
2. 内部函数可以访问外部函数变量
3. 函数返回函数

列子

```js
let outerFn = function () {
  let name = "2222";
  let getName = function () {
    return name;
  };
  let setName = function () {
    name = "333";
    return name;
  };
  return {
    getName,
    setName,
  };
  console.log(outerFn().getName());
};
```

### 为什么会产生闭包？

js 的作用域特性导致的。

### 闭包的作用

1. 私有作用域:防止变量不会受到其他变量的污染，vue 的 data 就是一个闭包的设计，保证了各个组件之间的 data 不会受到其他组件的污染。
2. 延长变量的生命周期：防抖就是通过延长变量的生命周期来达到同一时间断里面多次点击只会执行一次。
3. 内外方法沟通的桥梁：内部方法可以访问外部变量。

### 缺点

常驻内存，因为变量不会被垃圾回收，导致栈溢出，内存泄露，所以要慎用闭包。
